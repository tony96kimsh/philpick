# ğŸ“š ì±…ê³¼ ê¸€ìë¥¼ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒë“¤ì„ ìœ„í•œ í•„í”½(PhilPick)
![](./img/md/1.jpg) | ![](./img/md/2.jpg)
--|--|



- [ğŸŒ ì‚¬ì´íŠ¸ ë°”ë¡œê°€ê¸° (Vercel)](https://philpick.vercel.app/)
- [âš™ï¸ Vercel Dashboard](https://vercel.com/kimsunghoons-projects/philpick)
- [ğŸ“˜ ì œì‘ ê³¼ì • Notion](https://stump-smartphone-024.notion.site/OPEN-API-project-1bdf398452c3800a8164dc2b2c5aef6e?pvs=4)
- [ğŸ™‹â€â™‚ï¸ ë°œí‘œ google slide](https://docs.google.com/presentation/d/1c7wPQL5Wge0kcsBs768rRh8-R0wuK5X76Vcwa-u0-7U/edit?usp=sharing)
---

## ğŸŸ© ì£¼ì œ ì„ ì •

- ì•Œë¼ë”˜ ì„œì¬ Open APIë¥¼ í™œìš©í•˜ì—¬ ë‚˜ë§Œì˜ ì„œì ì„ ë§Œë“¤ì–´ë³´ì.
- ë©€í‹°ë¯¸ë””ì–´ ì¤‘ì‹¬ì˜ ì‹œëŒ€ ì†ì—ì„œ, ì±…ì„ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒë“¤ì€ ìì‹ ì˜ ì² í•™ì„ ì¤‘ìš”ì‹œí•˜ëŠ” ê²½í–¥ì´ ìˆë‹¤.
- ì² í•™(Philosophy)ê³¼ ì„ íƒ(pick)ì„ ê²°í•©í•œ **PhilPick(í•„í”½)**ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ,
  **ê¸€ìì™€ ì˜ë¯¸ë¥¼ ì‚¬ë‘í•˜ëŠ” ì´ë“¤ì„ ìœ„í•œ ì‹¬í”Œí•œ ì„œì **ì„ ì§€í–¥í•œë‹¤.
- **í‘œì§€ ì´ë¯¸ì§€ë³´ë‹¤ í…ìŠ¤íŠ¸ì— ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” UI**ë¥¼ ì œê³µí•œë‹¤.

---

## ğŸŸ¨ ì„¤ê³„

### ğŸ  Home Page

- ë³„ë„ì˜ ëœë”© ì—†ì´ ê³§ë°”ë¡œ ê²€ìƒ‰ ë° ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ë¥¼ í™ˆìœ¼ë¡œ ì‚¬ìš©.
- ìµœëŒ€í•œ **ì‹¬í”Œí•œ UI**ë¡œ êµ¬í˜„í•´ ì‚¬ìš©ìê°€ ê¸€ê³¼ ì •ë³´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê²½í—˜í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±.

---

## ğŸ“‹ ì½”ë“œ ì§„í–‰ ìˆœì„œ ë° ì •ë¦¬

- [01 ì…ë ¥ ê°’ ì¶”ì¶œ](https://www.notion.so/01-1cef398452c38025b57ac21141313f63?pvs=21)
- [02 API í‚¤ ë°œê¸‰ ë° ì—°ê²° í™•ì¸](https://www.notion.so/02-API-1cef398452c380168920ee4cfb494c88?pvs=21)
- 03 ì‘ë‹µ ê°’ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
- 04 íŒíŠ¸ í…ìŠ¤íŠ¸ ì¶”ê°€
- [05 ê²€ìƒ‰ì–´ í•˜ì´ë¼ì´íŠ¸ ê¸°ëŠ¥ ì¶”ê°€](https://www.notion.so/05-1cef398452c380039ab6e6b9c37a6add?pvs=21)
- [06 Tailwind ì ìš©](https://www.notion.so/06-tailwind-1cef398452c380cb8922c7c9c3f9b8ba?pvs=21)
- [07 ì›¹ í°íŠ¸ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜](https://www.notion.so/07-1cef398452c380f9b533d9c71ea17e4d?pvs=21)
- [08 Tailwind ë‹¤í¬ëª¨ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ìš©](https://www.notion.so/08-tailwind-darkmode-library-1cef398452c380e4aec3e0c42f76c121?pvs=21)
- [09 ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ë„¤ì´ì…˜](https://www.notion.so/09-1cef398452c3801f93d2cdadf7971ccd?pvs=21)
- [10 GitHub ì—°ë™ + Vercel Serverless ë°°í¬](https://www.notion.so/10-github-vercel-serverless-1cef398452c380f4b9f2d84733878d8e?pvs=21)

---

## ğŸ“ í´ë” êµ¬ì¡°

```
â”œâ”€â”€ README.md
â”œâ”€â”€ api
â”‚   â””â”€â”€ search.js
â”œâ”€â”€ archive
â”‚   â”œâ”€â”€ proxy-test.html
â”‚   â”œâ”€â”€ index_temp.html
â”‚   â”œâ”€â”€ style.css
â”‚   â”œâ”€â”€ temp
â”‚   â”‚   â”œâ”€â”€ index_jq.html
â”‚   â”‚   â””â”€â”€ index_js.html
â”‚   â””â”€â”€ test.html
â”œâ”€â”€ img
â”‚   â”œâ”€â”€ favicon.png
â”‚   â””â”€â”€ sample.png
â”œâ”€â”€ index.html
â”œâ”€â”€ output.css
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ script.js
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ darkmode.js
â”‚   â””â”€â”€ input.css
â””â”€â”€ tailwind.config.js
```

## ì±… ê²€ìƒ‰ í”Œë¡œìš°ë§µ

```mermaid
flowchart TD
  Start[User types keyword]
  Submit[Form submitted]
  CheckEmpty{Is keyword empty?}
  Alert[Show alert message]
  Loading[Show loading spinner]
  FetchData[Call fetch to API]
  ParseData[Parse JSON result]
  CheckResult{Has items?}
  ShowEmpty[Show no results message]
  LoopItems[Loop over items]
  Highlight[Highlight keyword]
  Render[Render book list]
  UpdatePage[Update page info]
  ErrorCatch[Catch fetch error]
  ShowError[Show error message]
  End[Done]

  Start --> Submit --> CheckEmpty
  CheckEmpty -- Yes --> Alert --> End
  CheckEmpty -- No --> Loading --> FetchData --> ParseData --> CheckResult

  CheckResult -- No --> ShowEmpty --> End
  CheckResult -- Yes --> LoopItems --> Highlight --> Render --> UpdatePage --> End

  FetchData --> ErrorCatch --> ShowError --> End
```

## ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ

### searchBooks í•¨ìˆ˜

```javascript
// ğŸ“Œ ë©”ì¸ ê²€ìƒ‰ í•¨ìˆ˜ (ë¹„ë™ê¸° ì²˜ë¦¬)
// async: ì´ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ì‘ì—…(await)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¦
async function searchBooks(page = 1) {
  // 1. DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
  const query = document.getElementById("searchInput").value.trim(); // ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê²€ìƒ‰ì–´
  const resultContainer = document.getElementById("list");            // ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì¶œë ¥í•  ì˜ì—­
  const resultCount = document.getElementById("resultCount");         // ê²°ê³¼ ìˆ˜ í‘œì‹œ ì˜ì—­
  const pagination = document.getElementById("pagination");           // í˜ì´ì§€ë„¤ì´ì…˜ UI
  const loading = document.getElementById("loading");                 // ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ìš”ì†Œ

  // 2. ê²€ìƒ‰ì–´ê°€ ë¹„ì–´ìˆìœ¼ë©´ ê²½ê³ ì°½ì„ ë„ìš°ê³  í•¨ìˆ˜ ì¢…ë£Œ
  if (!query) {
    alert("ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
    return;
  }

  // 3. í˜„ì¬ í˜ì´ì§€ì™€ ê²€ìƒ‰ì–´ë¥¼ ì €ì¥
  currentPage = page;
  lastQuery = query;
  const startIndex = (page - 1) * resultsPerPage + 1; // APIì—ì„œ ì‚¬ìš©í•  ì‹œì‘ ìœ„ì¹˜

  // 4. ë¡œë”© í‘œì‹œ í™œì„±í™”
  if (loading) loading.classList.remove("hidden");

  // 5. API í˜¸ì¶œ ì£¼ì†Œ êµ¬ì„± (Vercel ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ì´ìš©)
  const proxyUrl = `/api/search?query=${encodeURIComponent(query)}&page=${page}`;

  try {
    // âœ… 6. ë°ì´í„° ìš”ì²­ â€” fetchëŠ” Promiseë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ await ì‚¬ìš©
    const res = await fetch(proxyUrl); // ì„œë²„ì— ë°ì´í„° ìš”ì²­
    // âœ… 7. ì‘ë‹µ ë°ì´í„°ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ íŒŒì‹±
    const data = await res.json(); // ì‘ë‹µì„ JSON ê°ì²´ë¡œ ë³€í™˜ (ë‘ ë²ˆì§¸ await)
    // âœ… 8. ì‹¤ì œ ì½˜í…ì¸ ëŠ” alloriginsë¡œ ê°ì‹¸ì ¸ ìˆìœ¼ë¯€ë¡œ ë‚´ë¶€ ì½˜í…ì¸  íŒŒì‹±
    const parsed = JSON.parse(data.contents); // ìµœì¢…ì ìœ¼ë¡œ ì±… ë°ì´í„° ì¶”ì¶œ

    // 9. ê²°ê³¼ ì´ˆê¸°í™”
    resultContainer.innerHTML = "";
    if (resultCount) resultCount.textContent = "ê²€ìƒ‰ê²°ê³¼ : 0ê±´";

    // âŒ 10. ê²°ê³¼ê°€ ì—†ëŠ” ê²½ìš° ì•ˆë‚´ ë©”ì‹œì§€ ì¶œë ¥
    if (!parsed.item || parsed.item.length === 0) {
      resultContainer.innerHTML = `<p id="hintText" class="text-hint">ì¼ì¹˜í•˜ëŠ” ê²€ìƒ‰ ëª©ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>`;
      if (pagination) pagination.classList.add("hidden");
      return;
    }

    // âœ… 11. ì´ ê²°ê³¼ ìˆ˜ í‘œì‹œ
    if (resultCount && parsed.totalResults !== undefined) {
      resultCount.textContent = `ê²€ìƒ‰ê²°ê³¼ : ${parsed.totalResults.toLocaleString()}ê±´`;
    }

    // âœ… 12. í˜„ì¬ í˜ì´ì§€ / ì „ì²´ í˜ì´ì§€ ìˆ˜ í‘œì‹œ
    if (pageNumber) {
      const totalPages = Math.ceil(parsed.totalResults / resultsPerPage);
      pageNumber.textContent = `${currentPage} / ${totalPages}`;
    }

    // âœ… 13. í˜ì´ì§€ë„¤ì´ì…˜ UI í‘œì‹œ
    if (pagination) pagination.classList.remove("hidden");

    // ğŸ”˜ 14. ì´ì „ / ë‹¤ìŒ ë²„íŠ¼ ë¹„í™œì„±í™” ì¡°ê±´
    if (prevBtn) prevBtn.disabled = currentPage === 1;
    if (nextBtn) nextBtn.disabled = parsed.item.length < resultsPerPage;

    // âœ… 15. ê²°ê³¼ ë°ì´í„° ë Œë”ë§
    parsed.item.forEach((book) => {
      // í•˜ì´ë¼ì´íŠ¸ ì²˜ë¦¬
      const title = highlightKeyword(book.title, query);
      const description = highlightKeyword(book.description || '', query);

      // HTML í…œí”Œë¦¿ ë¬¸ìì—´ ìƒì„±
      const itemHTML = `
        <div class="book-item">
          <img src="${book.cover}" alt="${book.title}" class="w-24 rounded shadow" />
          <div class="book-info">
            <span class="book-title">${title}</span>
            <span>ì €ì: ${book.author}</span><br />
            <span>ì¶œíŒì‚¬: ${book.publisher}</span>
            <p class="book-desc">${description.substring(0, 100)}...</p>
            <span class="book-price">${book.priceStandard.toLocaleString()}ì›</span>
          </div>
        </div>
      `;

      // DOMì— ì‚½ì…
      resultContainer.insertAdjacentHTML("beforeend", itemHTML);
    });

  } catch (error) {
    // â— ì˜ˆì™¸ ë°œìƒ ì‹œ â€” ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ ë˜ëŠ” API ì˜¤ë¥˜
    console.error("ì—ëŸ¬ ë°œìƒ:", error);
    resultContainer.innerHTML = `<p class="hint-text text-red-500">ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²° ë˜ëŠ” API ì„œë²„ ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p>`;
    if (pagination) pagination.classList.add("hidden");
  } finally {
    // ğŸ”„ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ìˆ¨ê¸°ê¸° (ì„±ê³µ/ì‹¤íŒ¨ì™€ ê´€ê³„ì—†ì´ í•­ìƒ ì‹¤í–‰ë¨)
    if (loading) loading.classList.add("hidden");
  }
}
```

### AJAX code

```javascript
// ê²€ìƒ‰ì–´ì™€ í˜ì´ì§€ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ proxy API ì£¼ì†Œ ìƒì„±
const proxyUrl = `/api/search?query=${encodeURIComponent(query)}&page=${page}`;

try {
  // ğŸ“¡ ì™¸ë¶€ Open API í˜¸ì¶œ (Vercelì˜ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ì‚¬ìš©)
  const res = await fetch(proxyUrl); // API ìš”ì²­
  const data = await res.json();     // ì‘ë‹µì„ JSON í˜•íƒœë¡œ ë³€í™˜
  const parsed = JSON.parse(data.contents); // ì‹¤ì œ API ê²°ê³¼ íŒŒì‹±
} catch (error) {
  console.error("ì—ëŸ¬ ë°œìƒ:", error); // ì˜¤ë¥˜ ë°œìƒ ì‹œ ë¡œê·¸ ì¶œë ¥
}
```


## ğŸ› ï¸ To Do

### issue
- [ ] [ê²€ìƒ‰ ëª©ë¡][í˜ì´ì§€ë„¤ì´ì…˜] í˜ì´ì§€ 3 ë²ˆì§¸ ì´í›„ë¡œ ì „í™˜ ì‹œ, ë¦¬ìŠ¤íŠ¸ ê°±ì‹  ë¯¸ë™ì‘ í˜„ìƒ
- [ ] [ê²€ìƒ‰] ê²€ìƒ‰ëœ ë¦¬ìŠ¤íŠ¸ ì¡´ì¬í•˜ëŠ” ìƒíƒœì—ì„œ nullê°’ ê²€ìƒ‰ í›„ [ë‹¤ìŒ] [ì´ì „] ë²„íŠ¼ ì„ íƒ ì‹œ, ì—ëŸ¬ ì–¼ëŸ¿ ë¯¸ë…¸ì¶œ í˜„ìƒ (reload í•„ìš”)

### ver 0.2
- [ ] ê²€ìƒ‰ ê¸°ì¤€ ë“œë¡­ë‹¤ìš´ ì¶”ê°€ (ì œëª©, ì €ì ë“± êµ¬ë¶„)
- [ ] ë¦¬ìŠ¤íŠ¸ 3ë‹¨ í•„í„° ì¶”ê°€

### ver 0.3
- [ ] ë°©ë¬¸ê¸°ë¡ í˜ì´ì§€
- [ ] ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥
- [ ] ì¶”ì²œ ë„ì„œ ì „ë©´ ë°°ë„ˆ í˜ì´ì§€

### ver 0.4
- [ ] Tailwind í‘œì¤€ì— ë§ê²Œ í´ë˜ìŠ¤ ìˆ˜ì • í•„ìš”

---

## ğŸ”— Reference

- [ì•Œë¼ë”˜ Open API ê³µì‹ ë¬¸ì„œ](https://blog.aladin.co.kr/openapi/popup/5353304)
- [ê´€ë ¨ ê¸°íšì•ˆ ë¬¸ì„œ (Google Docs)](https://docs.google.com/document/d/1mX-WxuoGs8Hy-QalhHcvuV17n50uGI2Sg_GHofgiePE/edit?tab=t.0)
